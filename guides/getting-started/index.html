<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Getting Started Guide | Curi Documentation</title>
    <link href="https://fonts.googleapis.com/css?family=Zilla+Slab:300,400" rel="stylesheet">
    <link href="/static/css/prism.css" rel="stylesheet">
    <link href="/static/css/index.css" rel="stylesheet">
  </head>
  <body>
    <div id="root"><header><nav><ul><li><a class="home-link " href="/">Curi</a></li><li><a class=" " href="/packages/">Packages</a></li><li><a class=" active" href="/guides/">Guides</a></li><li><a class=" " href="/tutorial/">Tutorials</a></li><li><a class=" " href="/examples/">Examples</a></li><li><a href="https://github.com/pshrmn/curi">GitHub</a></li></ul></nav></header><main tabindex="-1" style="outline:none"><div class="page guide"><div class="content" style="outline:none"><h1>Getting Started</h1><div class="section" id="router-object"><h2 class="displaced-header"><a class="header-link" href="#router-object">The Router</a></h2><div class="explanation"><p>The router is the controller of the single-page application. A router is created using a <code class="inline-code language-javascript">history</code> object and a<!-- --> <code class="inline-code language-javascript">routes</code> array.</p></div><div class="code-block"><pre><code class="language-javascript">import { curi, prepareRoutes } from &#x27;@curi/router&#x27;;

const history = Browser();
const routes = prepareRoutes([...]);
const router = curi(history, routes);</code></pre></div><div class="explanation"><p>The<!-- --> <a href="/guides/history/">history</a> <!-- -->object is used to navigate between locations within an application. The<!-- --> <a href="/guides/routes/">routes</a> <!-- -->array describes valid locations in an application.</p></div></div><div class="section" id="navigation"><h2 class="displaced-header"><a class="header-link" href="#navigation">Navigation</a></h2><div class="explanation"><p>Navigation within a single-page application can either be caused by in-app navigation (e.g. clicking a link) or platform navigation (e.g. clicking the back button or typing URL in the address bar and hitting enter).</p><p>The router has a <code class="inline-code language-javascript">navigate()</code> method to let you navigate with code. The function takes the <code class="inline-code language-javascript">name</code> of the route you want to navigate to and any route <code class="inline-code language-javascript">params</code>. The navigation<!-- --> <code class="inline-code language-javascript">method</code> controls how the history changes locations, with the default behavior acting like clicking a link.</p></div><div class="code-block"><pre><code class="language-javascript">router.navigate({
  name: &quot;Photo&quot;,
  params: { albumID: 1357, photoID: 02468 },
  hash: &quot;comments&quot;
});
// /photos/1357/02468#comments

router.navigate({
  name: &quot;Login&quot;,
  state: { next: location.pathname },
  // replace the current location with the Login location
  // &quot;REPLACE&quot; is ideal for redirects
  method: &quot;REPLACE&quot;
});</code></pre></div><div class="explanation"><div class="note"><strong>Note:</strong> <!-- -->Render interfaces, like<!-- --> <a href="/packages/@curi/react-dom/"><code class="inline-code language-javascript">@curi/react-dom</code></a>, will call <code class="inline-code language-javascript">router.nagivate()</code> for you when the user clicks a link.</div></div></div><div class="section" id="response-handlers"><h2 class="displaced-header"><a class="header-link" href="#response-handlers">Response Handlers</a></h2><div class="explanation"><p>When Curi matches a location to a route, it creates a &quot;response&quot; object, which provides information about the route that matched.</p><p>Response handlers are functions that will be called when there is a new response. There are three types of response handlers: observers, one time functions, and side effects.</p><p>Side effects are passed to the router when you are creating it. These are best suited for non-rendering tasks. You can read more about them in the<!-- --> <a href="/guides/side-effects/">side effects guide</a>.</p></div><div class="code-block"><pre><code class="language-javascript">const router = curi(history, routes, {
  sideEffects: [scroll, title]
})</code></pre></div><div class="explanation"><p>&quot;One time&quot; response handlers, registered with<!-- --> <code class="inline-code language-javascript">router.once()</code>, will only be called one time. If a response already exists, then the response handler will be called immediately (unless configured not to). Otherwise, the one time response handler will be called after the next response is emitted.</p><p>The primary use case for one time functions is to wait for the initial response to be generated before rendering.</p></div><div class="code-block"><pre><code class="language-javascript">const router = cur(history, routes);
router.once(() =&gt; {
  // this is not called until the initial response is ready
  // so we can safely render now
});</code></pre></div><div class="explanation"><p>Observers are passed to the router using <code class="inline-code language-javascript">router.observe()</code>. Unlike one time functions, these will be called for every response emitted by the router (until you tell the router to stop calling it). You most likely will not need to call this yourself because the renderer implementations setup observers for you.</p></div><div class="code-block"><pre><code class="language-javascript">const stop = router.observe(({ response }) =&gt; {
  console.log(&#x27;new response!&#x27;, response);
});
// ...
stop();
// no longer observing</code></pre></div><div class="explanation"><p>If you have any asynchronous routes (routes with <code class="inline-code language-javascript">resolve</code> <!-- -->functions), <code class="inline-code language-javascript">router.once()</code> should be used to delay the initial render until after the initial response is ready.</p></div><div class="code-block"><pre><code class="language-javascript">// wait for initial response to be ready
router.once(() =&gt; {
  // safe to render async routes now
});</code></pre></div></div><div class="section" id="rendering"><h2 class="displaced-header"><a class="header-link" href="#rendering">Rendering</a></h2><div class="explanation"><p>How Curi integrates with UI libraries depends on which one you are using. The way that Curi interfaces with each of them varies, but they all use observers to be notified when there is a new response.</p><p>For the UI libraries that Curi natively supports, you can check out their respective guides to see how to use them.</p><ul><li><a href="/guides/react-dom/">React DOM</a></li><li><a href="/guides/react-native/">React Native</a></li><li><a href="/guides/svelte/">Svelte</a></li><li><a href="/guides/vue/">Vue</a></li></ul></div></div></div><div class="page-links"><button type="button" class="toggler">Menu</button><div class="children"><h2>Guides</h2><ul class="link-list"><li class="link-group"><div><button title="Toggle group visibility" class="collapse-button"><svg width="25" height="15" viewBox="0 0 25 15" xmlns="http://www.w3.org/2000/svg"><path d="M2,10 l5,-5 l5,5" fill="none" stroke="black" stroke-width="3"></path></svg>basic</button></div><ul class="link-list"><li class="solo"><a class=" " href="/guides/installation/">Installation</a></li><li class="solo"><a class=" active" href="/guides/getting-started/">Getting Started</a></li><li class="solo"><a class=" " href="/guides/history/">History</a></li><li class="solo"><a class=" " href="/guides/routes/">Routes</a></li><li class="solo"><a class=" " href="/guides/responses/">Responses</a></li><li class="solo"><a class=" " href="/guides/sync-or-async/">Sync or Async</a></li><li class="solo"><a class=" " href="/guides/new-responses/">New Responses</a></li></ul></li></ul><ul class="link-list"><li class="link-group"><div><button title="Toggle group visibility" class="collapse-button"><svg width="25" height="15" viewBox="0 0 25 15" xmlns="http://www.w3.org/2000/svg"><path d="M2,10 l5,-5 l5,5" fill="none" stroke="black" stroke-width="3"></path></svg>rendering</button></div><ul class="link-list"><li class="solo"><a class=" " href="/guides/react-dom/">React DOM</a></li><li class="solo"><a class=" " href="/guides/react-native/">React Native</a></li><li class="solo"><a class=" " href="/guides/svelte/">Svelte</a></li><li class="solo"><a class=" " href="/guides/vue/">Vue</a></li></ul></li></ul><ul class="link-list"><li class="link-group"><div><button title="Toggle group visibility" class="collapse-button"><svg width="25" height="15" viewBox="0 0 25 15" xmlns="http://www.w3.org/2000/svg"><path d="M2,10 l5,-5 l5,5" fill="none" stroke="black" stroke-width="3"></path></svg>advanced</button></div><ul class="link-list"><li class="solo"><a class=" " href="/guides/route-interactions/">Route Interactions</a></li><li class="solo"><a class=" " href="/guides/side-effects/">Side Effects</a></li><li class="solo"><a class=" " href="/guides/code-splitting/">Code Splitting</a></li><li class="solo"><a class=" " href="/guides/loading/">Loading Route Data</a></li><li class="solo"><a class=" " href="/guides/ssr/">Server-Side Rendering</a></li><li class="solo"><a class=" " href="/guides/accessibility/">Accessibility</a></li><li class="solo"><a class=" " href="/guides/apollo/">Apollo Integration</a></li><li class="solo"><a class=" " href="/guides/dev-tips/">Development Tips</a></li></ul></li></ul><ul class="link-list"><li class="link-group"><div><button title="Toggle group visibility" class="collapse-button"><svg width="25" height="15" viewBox="0 0 25 15" xmlns="http://www.w3.org/2000/svg"><path d="M2,10 l5,-5 l5,5" fill="none" stroke="black" stroke-width="3"></path></svg>migration</button></div><ul class="link-list"><li class="solo"><a class=" " href="/guides/migrate-rrv3/">React Router v2/3</a></li><li class="solo"><a class=" " href="/guides/migrate-rrv4/">React Router v4</a></li></ul></li></ul></div></div></div></main></div>
    <script src="https://unpkg.com/react@16.6.3/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@16.6.3/umd/react-dom.production.min.js"></script>
    <script src="/static/js/prism.js"></script>
    <script src="/static/js/bundle.js"></script>
  </body>
</html>
